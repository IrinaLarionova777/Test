<?xml version="1.0" encoding="UTF-8"?>
<Export generator="Cache" version="24">
<Routine name="mt422" type="INT" languagemode="0"><![CDATA[
mt422  ; Compiled May 11, 2007 11:09:07 for Cache for Windows
map23dun s node=1,tempn=""
 i '$g(%edit) s sn(1)=$s($d(%edit(109)):%edit(109),1:$g(%data(109))) i sn(1)'="" s sn(2)=$s($d(%edit(2)):%edit(2),1:$g(%data(2))) i sn(2)'=""
 i  i $d(^TIND("Case-Study",sn(1),sn(2))) s:'$g(tupkill) node=0,tempn=^TIND("Case-Study",sn(1),sn(2)) k ^TIND("Case-Study",sn(1),sn(2))
 i '$g(tupkill) s sn(1)=$g(%data(109)) i sn(1)'="" s sn(2)=$g(%data(2)) i sn(2)'=""
 e  g map24dun
 s ^TIND("Case-Study",sn(1),sn(2))=tempn
map24dun s node=1,tempn=""
 i $p($s($d(%edit(97)):%edit(97),1:$g(%data(97))),$c(1))=""
 i  i '$g(%edit) s sn(1)=$s($d(%edit(2)):%edit(2),1:$g(%data(2))) i sn(1)'="" s sn(2)=$s($d(%edit(96)):%edit(96),1:$g(%data(96))) i sn(2)'=""
 i  i $d(^TEPIi("Donor",sn(1),sn(2))) s:'$g(tupkill) node=0,tempn=^TEPIi("Donor",sn(1),sn(2)) k ^TEPIi("Donor",sn(1),sn(2))
 i $p($g(%data(97)),$c(1))=""
 i  i '$g(tupkill) s sn(1)=$g(%data(2)) i sn(1)'="" s sn(2)=$g(%data(96)) i sn(2)'=""
 e  g map25dun
 s ^TEPIi("Donor",sn(1),sn(2))=tempn
map25dun s node=1,tempn=""
 i '$g(%edit) s sn(1)=$$ALPHAUP($s($d(%edit(99)):%edit(99),1:$g(%data(99)))) i sn(1)'="" s sn(2)=$s($d(%edit(2)):%edit(2),1:$g(%data(2))) i sn(2)'=""
 i  i $d(^TIND("Name",12,sn(1),sn(2))) s:'$g(tupkill) node=0,tempn=^TIND("Name",12,sn(1),sn(2)) k ^TIND("Name",12,sn(1),sn(2))
 i '$g(tupkill) s sn(1)=$$ALPHAUP($g(%data(99))) i sn(1)'="" s sn(2)=$g(%data(2)) i sn(2)'=""
 e  g map26dun
 s ^TIND("Name",12,sn(1),sn(2))=tempn
map26dun s node=1,tempn=""
 i '$g(%edit) s sn(1)=$$ALPHAUP($s($d(%edit(100)):%edit(100),1:$g(%data(100)))) i sn(1)'="" s sn(2)=$s($d(%edit(2)):%edit(2),1:$g(%data(2))) i sn(2)'=""
 i  i $d(^TIND("Name",13,sn(1),sn(2))) s:'$g(tupkill) node=0,tempn=^TIND("Name",13,sn(1),sn(2)) k ^TIND("Name",13,sn(1),sn(2))
 i '$g(tupkill) s sn(1)=$$ALPHAUP($g(%data(100))) i sn(1)'="" s sn(2)=$g(%data(2)) i sn(2)'=""
 e  g map27dun
 s ^TIND("Name",13,sn(1),sn(2))=tempn
map27dun s node=1,tempn=""
 i '$g(%edit) s sn(1)=$$ALPHAUP($s($d(%edit(101)):%edit(101),1:$g(%data(101)))) i sn(1)'="" s sn(2)=$s($d(%edit(2)):%edit(2),1:$g(%data(2))) i sn(2)'=""
 i  i $d(^TIND("Name",14,sn(1),sn(2))) s:'$g(tupkill) node=0,tempn=^TIND("Name",14,sn(1),sn(2)) k ^TIND("Name",14,sn(1),sn(2))
 i '$g(tupkill) s sn(1)=$$ALPHAUP($g(%data(101))) i sn(1)'="" s sn(2)=$g(%data(2)) i sn(2)'=""
 e  g map28dun
 s ^TIND("Name",14,sn(1),sn(2))=tempn
map28dun s node=1,tempn=""
 i '$g(%edit) s sn(1)=$$ALPHAUP($s($d(%edit(4)):%edit(4),1:$g(%data(4)))) i sn(1)'="" s sn(2)=$s($d(%edit(2)):%edit(2),1:$g(%data(2))) i sn(2)'=""
 i  i $d(^TIND("Name",10,sn(1),sn(2))) s:'$g(tupkill) node=0,tempn=^TIND("Name",10,sn(1),sn(2)) k ^TIND("Name",10,sn(1),sn(2))
 i '$g(tupkill) s sn(1)=$$ALPHAUP($g(%data(4))) i sn(1)'="" s sn(2)=$g(%data(2)) i sn(2)'=""
 e  g map29dun
 s ^TIND("Name",10,sn(1),sn(2))=tempn
map29dun s node=1,tempn=""
 i '$g(%edit) s sn(1)=$$ALPHAUP($s($d(%edit(3)):%edit(3),1:$g(%data(3)))) i sn(1)'="" s sn(2)=$s($d(%edit(2)):%edit(2),1:$g(%data(2))) i sn(2)'=""
 i  i $d(^TIND("Name",11,sn(1),sn(2))) s:'$g(tupkill) node=0,tempn=^TIND("Name",11,sn(1),sn(2)) k ^TIND("Name",11,sn(1),sn(2))
 i '$g(tupkill) s sn(1)=$$ALPHAUP($g(%data(3))) i sn(1)'="" s sn(2)=$g(%data(2)) i sn(2)'=""
 e  g map30dun
 s ^TIND("Name",11,sn(1),sn(2))=tempn
map30dun s node=1,tempn=""
 i '$g(%edit) s sn(1)=$$ALPHAUP($s($d(%edit(3)):%edit(3),1:$g(%data(3)))) i sn(1)'="" s sn(2)=$$ALPHAUP($s($d(%edit(99)):%edit(99),1:$g(%data(99)))) i sn(2)'="" s sn(3)=$s($d(%edit(2)):%edit(2),1:$g(%data(2))) i sn(3)'=""
 i  i $d(^TIND("Names",12,sn(1),sn(2),sn(3))) s:'$g(tupkill) node=0,tempn=^TIND("Names",12,sn(1),sn(2),sn(3)) k ^TIND("Names",12,sn(1),sn(2),sn(3))
 i '$g(tupkill) s sn(1)=$$ALPHAUP($g(%data(3))) i sn(1)'="" s sn(2)=$$ALPHAUP($g(%data(99))) i sn(2)'="" s sn(3)=$g(%data(2)) i sn(3)'=""
 e  g map31dun
 s ^TIND("Names",12,sn(1),sn(2),sn(3))=tempn
map31dun s node=1,tempn=""
 i '$g(%edit) s sn(1)=$$ALPHAUP($s($d(%edit(3)):%edit(3),1:$g(%data(3)))) i sn(1)'="" s sn(2)=$$ALPHAUP($s($d(%edit(100)):%edit(100),1:$g(%data(100)))) i sn(2)'="" s sn(3)=$s($d(%edit(2)):%edit(2),1:$g(%data(2))) i sn(3)'=""
 i  i $d(^TIND("Names",13,sn(1),sn(2),sn(3))) s:'$g(tupkill) node=0,tempn=^TIND("Names",13,sn(1),sn(2),sn(3)) k ^TIND("Names",13,sn(1),sn(2),sn(3))
 i '$g(tupkill) s sn(1)=$$ALPHAUP($g(%data(3))) i sn(1)'="" s sn(2)=$$ALPHAUP($g(%data(100))) i sn(2)'="" s sn(3)=$g(%data(2)) i sn(3)'=""
 e  g map32dun
 s ^TIND("Names",13,sn(1),sn(2),sn(3))=tempn
map32dun s node=1,tempn=""
 i '$g(%edit) s sn(1)=$$ALPHAUP($s($d(%edit(3)):%edit(3),1:$g(%data(3)))) i sn(1)'="" s sn(2)=$$ALPHAUP($s($d(%edit(101)):%edit(101),1:$g(%data(101)))) i sn(2)'="" s sn(3)=$s($d(%edit(2)):%edit(2),1:$g(%data(2))) i sn(3)'=""
 i  i $d(^TIND("Names",14,sn(1),sn(2),sn(3))) s:'$g(tupkill) node=0,tempn=^TIND("Names",14,sn(1),sn(2),sn(3)) k ^TIND("Names",14,sn(1),sn(2),sn(3))
 i '$g(tupkill) s sn(1)=$$ALPHAUP($g(%data(3))) i sn(1)'="" s sn(2)=$$ALPHAUP($g(%data(101))) i sn(2)'="" s sn(3)=$g(%data(2)) i sn(3)'=""
 e  g map33dun
 s ^TIND("Names",14,sn(1),sn(2),sn(3))=tempn
map33dun s node=1,tempn=""
 i '$g(%edit) s sn(1)=$s($d(%edit(102)):%edit(102),1:$g(%data(102))) i sn(1)'="" s sn(2)=$s($d(%edit(2)):%edit(2),1:$g(%data(2))) i sn(2)'=""
 i  i $d(^TIND("Name",22,sn(1),sn(2))) s:'$g(tupkill) node=0,tempn=^TIND("Name",22,sn(1),sn(2)) k ^TIND("Name",22,sn(1),sn(2))
 i '$g(tupkill) s sn(1)=$g(%data(102)) i sn(1)'="" s sn(2)=$g(%data(2)) i sn(2)'=""
 e  g map34dun
 s ^TIND("Name",22,sn(1),sn(2))=tempn
map34dun s node=1,tempn=""
 i '$g(%edit) s sn(1)=$s($d(%edit(103)):%edit(103),1:$g(%data(103))) i sn(1)'="" s sn(2)=$s($d(%edit(2)):%edit(2),1:$g(%data(2))) i sn(2)'=""
 i  i $d(^TIND("Name",23,sn(1),sn(2))) s:'$g(tupkill) node=0,tempn=^TIND("Name",23,sn(1),sn(2)) k ^TIND("Name",23,sn(1),sn(2))
 i '$g(tupkill) s sn(1)=$g(%data(103)) i sn(1)'="" s sn(2)=$g(%data(2)) i sn(2)'=""
 e  g map35dun
 s ^TIND("Name",23,sn(1),sn(2))=tempn
map35dun s node=1,tempn=""
 i '$g(%edit) s sn(1)=$s($d(%edit(104)):%edit(104),1:$g(%data(104))) i sn(1)'="" s sn(2)=$s($d(%edit(2)):%edit(2),1:$g(%data(2))) i sn(2)'=""
 i  i $d(^TIND("Name",24,sn(1),sn(2))) s:'$g(tupkill) node=0,tempn=^TIND("Name",24,sn(1),sn(2)) k ^TIND("Name",24,sn(1),sn(2))
 i '$g(tupkill) s sn(1)=$g(%data(104)) i sn(1)'="" s sn(2)=$g(%data(2)) i sn(2)'=""
 e  g map36dun
 s ^TIND("Name",24,sn(1),sn(2))=tempn
map36dun s node=1,tempn=""
 i '$g(%edit) s sn(1)=$s($d(%edit(91)):%edit(91),1:$g(%data(91))) i sn(1)'="" s sn(2)=$s($d(%edit(2)):%edit(2),1:$g(%data(2))) i sn(2)'=""
 i  i $d(^TIND("Name",20,sn(1),sn(2))) s:'$g(tupkill) node=0,tempn=^TIND("Name",20,sn(1),sn(2)) k ^TIND("Name",20,sn(1),sn(2))
 i '$g(tupkill) s sn(1)=$g(%data(91)) i sn(1)'="" s sn(2)=$g(%data(2)) i sn(2)'=""
 e  g map37dun
 s ^TIND("Name",20,sn(1),sn(2))=tempn
map37dun s node=1,tempn=""
 i '$g(%edit) s sn(1)=$s($d(%edit(90)):%edit(90),1:$g(%data(90))) i sn(1)'="" s sn(2)=$s($d(%edit(2)):%edit(2),1:$g(%data(2))) i sn(2)'=""
 i  i $d(^TIND("Name",21,sn(1),sn(2))) s:'$g(tupkill) node=0,tempn=^TIND("Name",21,sn(1),sn(2)) k ^TIND("Name",21,sn(1),sn(2))
 i '$g(tupkill) s sn(1)=$g(%data(90)) i sn(1)'="" s sn(2)=$g(%data(2)) i sn(2)'=""
 e  g map38dun
 s ^TIND("Name",21,sn(1),sn(2))=tempn
map38dun s node=1,tempn=""
 i $p($s($d(%edit(97)):%edit(97),1:$g(%data(97))),$c(1))="",$p($s($d(%edit(86)):%edit(86),1:$g(%data(86))),$c(1))="9"
 i  i '$g(%edit) s sn(1)=$s($d(%edit(2)):%edit(2),1:$g(%data(2))) i sn(1)'=""
 i  i $d(^TEPIi("BBP",sn(1))) s:'$g(tupkill) node=0,tempn=^TEPIi("BBP",sn(1)) k ^TEPIi("BBP",sn(1))
 i $p($g(%data(97)),$c(1))="",$p($g(%data(86)),$c(1))="9"
 i  i '$g(tupkill) s sn(1)=$g(%data(2)) i sn(1)'=""
 e  g map39dun
 s ^TEPIi("BBP",sn(1))=tempn
map39dun s node=1,tempn=""
 i '$g(%edit) s sn(1)=$s($d(%edit(28)):%edit(28),1:$g(%data(28))) i sn(1)'="" s sn(2)=$s($d(%edit(12)):$p(%edit(12),$c(1),1),1:$p($g(%data(12)),$c(1),1)) i sn(2)'="" s sn(3)=(60*$s($d(%edit(13)):%edit(13),1:$g(%data(13)))) i sn(3)'=""
 i  i $d(^TCLB(sn(1),sn(2),sn(3))) s:'$g(tupkill) node=0,tempn=^TCLB(sn(1),sn(2),sn(3)) k ^TCLB(sn(1),sn(2),sn(3))
 i '$g(tupkill) s sn(1)=$g(%data(28)) i sn(1)'="" s sn(2)=$p($g(%data(12)),$c(1),1) i sn(2)'="" s sn(3)=(60*$g(%data(13))) i sn(3)'=""
 e  g map40dun
 s:node!$d(%edit(2)) $p(tempn,"\",1)=$g(%data(2))
 s ^TCLB(sn(1),sn(2),sn(3))=tempn
map40dun s node=1,tempn=""
 i '$g(%edit) s sn(1)=$s($d(%edit(12)):$p(%edit(12),$c(1),1),1:$p($g(%data(12)),$c(1),1)) i sn(1)'="" s sn(2)=$s($d(%edit(86)):$p(%edit(86),$c(1),1),1:$p($g(%data(86)),$c(1),1)) i sn(2)'="" s sn(3)=$s($d(%edit(2)):%edit(2),1:$g(%data(2))) i sn(3)'=""
 i  i $d(^TDAY(1,sn(1),sn(2),sn(3))) s:'$g(tupkill) node=0,tempn=^TDAY(1,sn(1),sn(2),sn(3)) k ^TDAY(1,sn(1),sn(2),sn(3))
 i '$g(tupkill) s sn(1)=$p($g(%data(12)),$c(1),1) i sn(1)'="" s sn(2)=$p($g(%data(86)),$c(1),1) i sn(2)'="" s sn(3)=$g(%data(2)) i sn(3)'=""
 e  g map41dun
 s ^TDAY(1,sn(1),sn(2),sn(3))=tempn
map41dun s node=1,tempn=""
 i '$g(%edit) s sn(1)=$s($d(%edit(56)):$p(%edit(56),$c(1),1),1:$p($g(%data(56)),$c(1),1)) i sn(1)'="" s sn(2)=$s($d(%edit(2)):%edit(2),1:$g(%data(2))) i sn(2)'=""
 i  i $d(^TDAY(2,sn(1),sn(2))) s:'$g(tupkill) node=0,tempn=^TDAY(2,sn(1),sn(2)) k ^TDAY(2,sn(1),sn(2))
 i '$g(tupkill) s sn(1)=$p($g(%data(56)),$c(1),1) i sn(1)'="" s sn(2)=$g(%data(2)) i sn(2)'=""
 e  g map42dun
 s ^TDAY(2,sn(1),sn(2))=tempn
map42dun s node=1,tempn=""
 i $e($s($d(%edit(59)):%edit(59),1:$g(%data(59))))="S"
 i  i '$g(%edit) s sn(1)=$s($d(%edit(59)):%edit(59),1:$g(%data(59))) i sn(1)'="" s sn(2)=$s($d(%edit(2)):%edit(2),1:$g(%data(2))) i sn(2)'=""
 i  i $d(^TDAY(3,sn(1),sn(2))) s:'$g(tupkill) node=0,tempn=^TDAY(3,sn(1),sn(2)) k ^TDAY(3,sn(1),sn(2))
 i $e($g(%data(59)))="S"
 i  i '$g(tupkill) s sn(1)=$g(%data(59)) i sn(1)'="" s sn(2)=$g(%data(2)) i sn(2)'=""
 e  g map43dun
 s ^TDAY(3,sn(1),sn(2))=tempn
map43dun s node=1,tempn=""
 i '$g(%edit) s sn(1)=$s($d(%edit(10)):$p(%edit(10),$c(1),1),1:$p($g(%data(10)),$c(1),1)) i sn(1)'="" s sn(2)=$s($d(%edit(86)):$p(%edit(86),$c(1),1),1:$p($g(%data(86)),$c(1),1)) i sn(2)'="" s sn(3)=$s($d(%edit(2)):%edit(2),1:$g(%data(2))) i sn(3)'=""
 i  i $d(^TDAY(4,sn(1),sn(2),sn(3))) s:'$g(tupkill) node=0,tempn=^TDAY(4,sn(1),sn(2),sn(3)) k ^TDAY(4,sn(1),sn(2),sn(3))
 i '$g(tupkill) s sn(1)=$p($g(%data(10)),$c(1),1) i sn(1)'="" s sn(2)=$p($g(%data(86)),$c(1),1) i sn(2)'="" s sn(3)=$g(%data(2)) i sn(3)'=""
 e  g map44dun
 s ^TDAY(4,sn(1),sn(2),sn(3))=tempn
map44dun s node=1,tempn=""
 i '$g(%edit) s sn(1)=$s($d(%edit(61)):$p(%edit(61),$c(1),1),1:$p($g(%data(61)),$c(1),1)) i sn(1)'="" s sn(2)=$s($d(%edit(86)):$p(%edit(86),$c(1),1),1:$p($g(%data(86)),$c(1),1)) i sn(2)'="" s sn(3)=$s($d(%edit(2)):%edit(2),1:$g(%data(2))) i sn(3)'=""
 i  i $d(^TDAY(6,sn(1),sn(2),sn(3))) s:'$g(tupkill) node=0,tempn=^TDAY(6,sn(1),sn(2),sn(3)) k ^TDAY(6,sn(1),sn(2),sn(3))
 i '$g(tupkill) s sn(1)=$p($g(%data(61)),$c(1),1) i sn(1)'="" s sn(2)=$p($g(%data(86)),$c(1),1) i sn(2)'="" s sn(3)=$g(%data(2)) i sn(3)'=""
 e  g map45dun
 s ^TDAY(6,sn(1),sn(2),sn(3))=tempn
map45dun s node=1,tempn=""
 i '$g(%edit) s sn(1)=$s($d(%edit(47)):$p(%edit(47),$c(1),1),1:$p($g(%data(47)),$c(1),1)) i sn(1)'="" s sn(2)=$s($d(%edit(86)):$p(%edit(86),$c(1),1),1:$p($g(%data(86)),$c(1),1)) i sn(2)'="" s sn(3)=$s($d(%edit(2)):%edit(2),1:$g(%data(2))) i sn(3)'=""
 i  i $d(^TDAY(7,sn(1),sn(2),sn(3))) s:'$g(tupkill) node=0,tempn=^TDAY(7,sn(1),sn(2),sn(3)) k ^TDAY(7,sn(1),sn(2),sn(3))
 i '$g(tupkill) s sn(1)=$p($g(%data(47)),$c(1),1) i sn(1)'="" s sn(2)=$p($g(%data(86)),$c(1),1) i sn(2)'="" s sn(3)=$g(%data(2)) i sn(3)'=""
 e  g map46dun
 s ^TDAY(7,sn(1),sn(2),sn(3))=tempn
map46dun s node=1,tempn=""
 i '$g(%edit) s sn(1)=$s($d(%edit(20)):%edit(20),1:$g(%data(20))) i sn(1)'="" s sn(2)=$s($$ALPHAUP($s($d(%edit(3)):%edit(3),1:$g(%data(3))))="":" ",1:$$ALPHAUP($s($d(%edit(3)):%edit(3),1:$g(%data(3))))) i sn(2)'=""
 i  s sn(3)=$s($$ALPHAUP($s($d(%edit(4)):%edit(4),1:$g(%data(4))))="":" ",1:$$ALPHAUP($s($d(%edit(4)):%edit(4),1:$g(%data(4))))) i sn(3)'="" s sn(4)=$s($d(%edit(2)):%edit(2),1:$g(%data(2))) i sn(4)'=""
 i  i $d(^TDEBi(sn(1),"ALIAS",sn(2),sn(3),sn(4))) s:'$g(tupkill) node=0,tempn=^TDEBi(sn(1),"ALIAS",sn(2),sn(3),sn(4)) k ^TDEBi(sn(1),"ALIAS",sn(2),sn(3),sn(4))
 i '$g(tupkill) s sn(1)=$g(%data(20)) i sn(1)'="" s sn(2)=$s($$ALPHAUP($g(%data(3)))="":" ",1:$$ALPHAUP($g(%data(3)))) i sn(2)'="" s sn(3)=$s($$ALPHAUP($g(%data(4)))="":" ",1:$$ALPHAUP($g(%data(4)))) i sn(3)'="" s sn(4)=$g(%data(2)) i sn(4)'=""
 e  g map47dun
 s ^TDEBi(sn(1),"ALIAS",sn(2),sn(3),sn(4))=tempn
map47dun s node=1,tempn=""
 i '$g(%edit) s sn(1)=$s($d(%edit(20)):%edit(20),1:$g(%data(20))) i sn(1)'="" s sn(2)=$s($d(%edit(12)):$p(%edit(12),$c(1),1),1:$p($g(%data(12)),$c(1),1)) i sn(2)'="" s sn(3)=$s($d(%edit(13)):%edit(13),1:$g(%data(13))) i sn(3)'="" s sn(4)=$s($d(%edit(2)):%edit(2),1:$g(%data(2))) i sn(4)'=""
 i  i $d(^TDEBi(sn(1),"DATE",sn(2),sn(3),sn(4))) s:'$g(tupkill) node=0,tempn=^TDEBi(sn(1),"DATE",sn(2),sn(3),sn(4)) k ^TDEBi(sn(1),"DATE",sn(2),sn(3),sn(4))
 i '$g(tupkill) s sn(1)=$g(%data(20)) i sn(1)'="" s sn(2)=$p($g(%data(12)),$c(1),1) i sn(2)'="" s sn(3)=$g(%data(13)) i sn(3)'="" s sn(4)=$g(%data(2)) i sn(4)'=""
 e  g map48dun
 s ^TDEBi(sn(1),"DATE",sn(2),sn(3),sn(4))=tempn
map48dun s node=1,tempn=""
 i '$g(%edit) s sn(1)=$s($d(%edit(20)):%edit(20),1:$g(%data(20))) i sn(1)'="" s sn(2)=$s($d(%edit(96)):%edit(96),1:$g(%data(96))) i sn(2)'="" s sn(3)=$s($d(%edit(2)):%edit(2),1:$g(%data(2))) i sn(3)'=""
 i  i $d(^TDEBi(sn(1),"BBP",sn(2),sn(3))) s:'$g(tupkill) node=0,tempn=^TDEBi(sn(1),"BBP",sn(2),sn(3)) k ^TDEBi(sn(1),"BBP",sn(2),sn(3))
 i '$g(tupkill) s sn(1)=$g(%data(20)) i sn(1)'="" s sn(2)=$g(%data(96)) i sn(2)'="" s sn(3)=$g(%data(2)) i sn(3)'=""
 e  g map49dun
 s ^TDEBi(sn(1),"BBP",sn(2),sn(3))=tempn
map49dun s node=1,tempn=""
 i '$g(%edit) s sn(1)=$s($d(%edit(20)):%edit(20),1:$g(%data(20))) i sn(1)'="" s sn(2)=$$ALPHAUP($s($d(%edit(89)):%edit(89),1:$g(%data(89)))) i sn(2)'="" s sn(3)=$s($d(%edit(2)):%edit(2),1:$g(%data(2))) i sn(3)'=""
 i  i $d(^TDEBi(sn(1),"DVA",sn(2),sn(3))) s:'$g(tupkill) node=0,tempn=^TDEBi(sn(1),"DVA",sn(2),sn(3)) k ^TDEBi(sn(1),"DVA",sn(2),sn(3))
 i '$g(tupkill) s sn(1)=$g(%data(20)) i sn(1)'="" s sn(2)=$$ALPHAUP($g(%data(89))) i sn(2)'="" s sn(3)=$g(%data(2)) i sn(3)'=""
 e  g map50dun
 s ^TDEBi(sn(1),"DVA",sn(2),sn(3))=tempn
map50dun s node=1,tempn=""
 i '$g(%edit) s sn(1)=$s($d(%edit(20)):%edit(20),1:$g(%data(20))) i sn(1)'="" s sn(2)=$p($s($d(%edit(65)):%edit(65),1:$g(%data(65))),",",2) i sn(2)'="" s sn(3)=$s($d(%edit(2)):%edit(2),1:$g(%data(2))) i sn(3)'=""
 i  i $d(^TDEBi(sn(1),"HOSPITAL",sn(2),sn(3))) s:'$g(tupkill) node=0,tempn=^TDEBi(sn(1),"HOSPITAL",sn(2),sn(3)) k ^TDEBi(sn(1),"HOSPITAL",sn(2),sn(3))
 i '$g(tupkill) s sn(1)=$g(%data(20)) i sn(1)'="" s sn(2)=$p($g(%data(65)),",",2) i sn(2)'="" s sn(3)=$g(%data(2)) i sn(3)'=""
 e  g map51dun
 s ^TDEBi(sn(1),"HOSPITAL",sn(2),sn(3))=tempn
map51dun s node=1,tempn=""
 i '$g(%edit) s sn(1)=$s($d(%edit(20)):%edit(20),1:$g(%data(20))) i sn(1)'="" s sn(2)=$$ALPHAUP($s($d(%edit(8)):%edit(8),1:$g(%data(8)))) i sn(2)'="" s sn(3)=$s($d(%edit(2)):%edit(2),1:$g(%data(2))) i sn(3)'=""
 i  i $d(^TDEBi(sn(1),"MEDICARE",sn(2),sn(3))) s:'$g(tupkill) node=0,tempn=^TDEBi(sn(1),"MEDICARE",sn(2),sn(3)) k ^TDEBi(sn(1),"MEDICARE",sn(2),sn(3))
 i '$g(tupkill) s sn(1)=$g(%data(20)) i sn(1)'="" s sn(2)=$$ALPHAUP($g(%data(8))) i sn(2)'="" s sn(3)=$g(%data(2)) i sn(3)'=""
 e  g map52dun
 s ^TDEBi(sn(1),"MEDICARE",sn(2),sn(3))=tempn
map52dun s node=1,tempn=""
 i '$g(%edit) s sn(1)=$s($d(%edit(20)):%edit(20),1:$g(%data(20))) i sn(1)'="" s sn(2)=$$ALPHAUP($s($d(%edit(88)):%edit(88),1:$g(%data(88)))) i sn(2)'="" s sn(3)=$s($d(%edit(2)):%edit(2),1:$g(%data(2))) i sn(3)'=""
 i  i $d(^TDEBi(sn(1),"PENSIONER",sn(2),sn(3))) s:'$g(tupkill) node=0,tempn=^TDEBi(sn(1),"PENSIONER",sn(2),sn(3)) k ^TDEBi(sn(1),"PENSIONER",sn(2),sn(3))
 i '$g(tupkill) s sn(1)=$g(%data(20)) i sn(1)'="" s sn(2)=$$ALPHAUP($g(%data(88))) i sn(2)'="" s sn(3)=$g(%data(2)) i sn(3)'=""
 e  g map53dun
 s ^TDEBi(sn(1),"PENSIONER",sn(2),sn(3))=tempn
map53dun s node=1,tempn=""
 i '$g(%edit) s sn(1)=$s($d(%edit(46)):%edit(46),1:$g(%data(46))) i sn(1)'="" s sn(2)=$s($d(%edit(20)):%edit(20),1:$g(%data(20))) i sn(2)'="" s sn(3)=$s($d(%edit(2)):%edit(2),1:$g(%data(2))) i sn(3)'=""
 i  i $d(^TDEBj("DONOR",sn(1),sn(2),sn(3))) s:'$g(tupkill) node=0,tempn=^TDEBj("DONOR",sn(1),sn(2),sn(3)) k ^TDEBj("DONOR",sn(1),sn(2),sn(3))
 i '$g(tupkill) s sn(1)=$g(%data(46)) i sn(1)'="" s sn(2)=$g(%data(20)) i sn(2)'="" s sn(3)=$g(%data(2)) i sn(3)'=""
 e  g map54dun
 s ^TDEBj("DONOR",sn(1),sn(2),sn(3))=tempn
map54dun s node=1,tempn=""
 i '$g(%edit) s sn(1)=$s($d(%edit(96)):%edit(96),1:$g(%data(96))) i sn(1)'="" s sn(2)=$s($d(%edit(2)):%edit(2),1:$g(%data(2))) i sn(2)'=""
 i  i $d(^TDEBj("BBP",sn(1),sn(2))) s:'$g(tupkill) node=0,tempn=^TDEBj("BBP",sn(1),sn(2)) k ^TDEBj("BBP",sn(1),sn(2))
 i '$g(tupkill) s sn(1)=$g(%data(96)) i sn(1)'="" s sn(2)=$g(%data(2)) i sn(2)'=""
 e  g map55dun
 s ^TDEBj("BBP",sn(1),sn(2))=tempn
map55dun s node=1,tempn=""
 i '$g(%edit) s sn(1)=$p($s($d(%edit(65)):%edit(65),1:$g(%data(65))),",",2) i sn(1)'="" s sn(2)=$s($d(%edit(20)):%edit(20),1:$g(%data(20))) i sn(2)'="" s sn(3)=$s($d(%edit(2)):%edit(2),1:$g(%data(2))) i sn(3)'=""
 i  i $d(^TDEBj("HOSPITAL",sn(1),sn(2),sn(3))) s:'$g(tupkill) node=0,tempn=^TDEBj("HOSPITAL",sn(1),sn(2),sn(3)) k ^TDEBj("HOSPITAL",sn(1),sn(2),sn(3))
 i '$g(tupkill) s sn(1)=$p($g(%data(65)),",",2) i sn(1)'="" s sn(2)=$g(%data(20)) i sn(2)'="" s sn(3)=$g(%data(2)) i sn(3)'=""
 e  g map56dun
 s ^TDEBj("HOSPITAL",sn(1),sn(2),sn(3))=tempn
map56dun s node=1,tempn=""
 i '$g(%edit) s sn(1)=$s($d(%edit(66)):%edit(66),1:$g(%data(66))) i sn(1)'="" s sn(2)=$s($d(%edit(14)):$p(%edit(14),$c(1),1),1:$p($g(%data(14)),$c(1),1)) i sn(2)'="" s sn(3)=$s($d(%edit(2)):%edit(2),1:$g(%data(2))) i sn(3)'=""
 i  i $d(^TIND("US",sn(1),sn(2),sn(3))) s:'$g(tupkill) node=0,tempn=^TIND("US",sn(1),sn(2),sn(3)) k ^TIND("US",sn(1),sn(2),sn(3))
 i '$g(tupkill) s sn(1)=$g(%data(66)) i sn(1)'="" s sn(2)=$p($g(%data(14)),$c(1),1) i sn(2)'="" s sn(3)=$g(%data(2)) i sn(3)'=""
 e  g map57dun
 s ^TIND("US",sn(1),sn(2),sn(3))=tempn
map57dun s node=1,tempn=""
 i '$g(%edit) s sn(1)=$s($d(%edit(25)):%edit(25),1:$g(%data(25))) i sn(1)'="" s sn(2)=$s($d(%edit(2)):%edit(2),1:$g(%data(2))) i sn(2)'=""
 i  i $d(^TIND("VA",sn(1),sn(2))) s:'$g(tupkill) node=0,tempn=^TIND("VA",sn(1),sn(2)) k ^TIND("VA",sn(1),sn(2))
 i '$g(tupkill) s sn(1)=$g(%data(25)) i sn(1)'="" s sn(2)=$g(%data(2)) i sn(2)'=""
 e  g map58dun
 s ^TIND("VA",sn(1),sn(2))=tempn
map58dun q
trig0A n %ROWID,%didit,SQLCODE s %didit="" k %skip
  d POFILINS^at42 s %didit=1 i $d(%skip) g trgdoneA
trgdoneA q  ;  trigger done
trig0B n %ROWID,%didit,SQLCODE s %didit="" k %skip
  d POFILUPD^at42 s %didit=1 i $d(%skip) g trgdoneB
 d trigB0B i $d(%skip) g trgdoneB
trgdoneB q  ;  trigger done
trigB0B s %didit=1
 i $$check^LVBCOM02($g(%data(1)),42)
 q
trig0C n %ROWID,%didit,SQLCODE s %didit="" k %skip
  d PREFUPD^at42 s %didit=1 i $d(%skip) g trgdoneC
trgdoneC q  ;  trigger done
trig0D n %ROWID,%didit,SQLCODE s %didit="" k %skip
  d PREFINS^at42 s %didit=1 i $d(%skip) g trgdoneD
trgdoneD q  ;  trigger done
%0Fo n %mmmsqlc,%mmmsqld,%mmmsqle,%mmmsqlE,%mmmsqlf,%mmmsqll,%mmmsqlL,%mmmsqlm,%mmmsqln,%mmmsqlp,%mmmsqlr,%mmmsqlR,%mmmsqls,%mmmsqlt,%val  ;  Code for SQL: 
 s %mmmsqlE=$zt,$zt="%0Ferr^"_$zn,%mmmsqlf=0 s $ze=""
 s %mmmsqld(2)=$P(%data(1),$C(1))
 s:%mmmsqld(2)="" %mmmsqld(2)=$e(%data(1),2,99999)
 s SQLCODE=100
   ;  init
 ; asl MOD# 2
 s %mmmsqld(1)=$g(%mmmsqld(2))
 i %mmmsqld(1)="" g %0FBdun
 s %mmmsqld(4)=""
%0FBk1 s %mmmsqld(4)=$o(^TEPI(%mmmsqld(1),7,%mmmsqld(4)))
 i %mmmsqld(4)="" g %0FBdun
 s %mmmsqld(3)=(%mmmsqld(1))_"||"_(%mmmsqld(4))
 d delete^mt531(%mmmsqld(3),"1")
 q:SQLCODE<0
 s:SQLCODE=0 %mmmsqlf=%mmmsqlf+1
 g %0FBk1
%0FBdun 
%0FAdun 
 q
%0Ferr ; Non Cursor-Based Error Trap Module...
 s $zt=$g(%mmmsqlE),SQLCODE=-20603,%msg=$ze s $ze="" g %0FAdun
%0Go n %mmmsqlc,%mmmsqld,%mmmsqle,%mmmsqlE,%mmmsqlf,%mmmsqll,%mmmsqlL,%mmmsqlm,%mmmsqln,%mmmsqlp,%mmmsqlr,%mmmsqlR,%mmmsqls,%mmmsqlt,%val  ;  Code for SQL: 
 s %mmmsqlE=$zt,$zt="%0Gerr^"_$zn,%mmmsqlf=0 s $ze=""
 s %mmmsqld(2)=$P(%data(1),$C(1))
 s:%mmmsqld(2)="" %mmmsqld(2)=$e(%data(1),2,99999)
 s SQLCODE=100
   ;  init
 ; asl MOD# 2
 s %mmmsqld(1)=$g(%mmmsqld(2))
 i %mmmsqld(1)="" g %0GBdun
 s %mmmsqld(4)=""
%0GBk1 s %mmmsqld(4)=$o(^TEPI(%mmmsqld(1),5,%mmmsqld(4)))
 i %mmmsqld(4)="" g %0GBdun
 i 1>%mmmsqld(4),%mmmsqld(4)=+%mmmsqld(4) g %0GBk1
 i %mmmsqld(4)'=+%mmmsqld(4) g %0GBdun
 s %mmmsqld(3)=(%mmmsqld(1))_"||"_(%mmmsqld(4))
 d delete^mt501(%mmmsqld(3),"1")
 q:SQLCODE<0
 s:SQLCODE=0 %mmmsqlf=%mmmsqlf+1
 g %0GBk1
%0GBdun 
%0GAdun 
 q
%0Gerr ; Non Cursor-Based Error Trap Module...
 s $zt=$g(%mmmsqlE),SQLCODE=-20603,%msg=$ze s $ze="" g %0GAdun
%0Ho n %mmmsqlc,%mmmsqld,%mmmsqle,%mmmsqlE,%mmmsqlf,%mmmsqll,%mmmsqlL,%mmmsqlm,%mmmsqln,%mmmsqlp,%mmmsqlr,%mmmsqlR,%mmmsqls,%mmmsqlt,%val  ;  Code for SQL: 
 s %mmmsqlE=$zt,$zt="%0Herr^"_$zn,%mmmsqlf=0 s $ze=""
 s %mmmsqld(2)=$P(%data(1),$C(1))
 s:%mmmsqld(2)="" %mmmsqld(2)=$e(%data(1),2,99999)
 s SQLCODE=100
   ;  init
 ; asl MOD# 2
 s %mmmsqld(1)=$g(%mmmsqld(2))
 i %mmmsqld(1)="" g %0HBdun
 s %mmmsqld(4)=""
%0HBk1 s %mmmsqld(4)=$o(^TEPI(%mmmsqld(1),6,%mmmsqld(4)))
 i %mmmsqld(4)="" g %0HBdun
 s %mmmsqld(3)=(%mmmsqld(1))_"||"_(%mmmsqld(4))
 d delete^mt511(%mmmsqld(3),"1")
 q:SQLCODE<0
 s:SQLCODE=0 %mmmsqlf=%mmmsqlf+1
 g %0HBk1
%0HBdun 
%0HAdun 
 q
%0Herr ; Non Cursor-Based Error Trap Module...
 s $zt=$g(%mmmsqlE),SQLCODE=-20603,%msg=$ze s $ze="" g %0HAdun
%0Io n %mmmsqlc,%mmmsqld,%mmmsqle,%mmmsqlE,%mmmsqlf,%mmmsqll,%mmmsqlL,%mmmsqlm,%mmmsqln,%mmmsqlp,%mmmsqlr,%mmmsqlR,%mmmsqls,%mmmsqlt,%val  ;  Code for SQL: 
 s %mmmsqlE=$zt,$zt="%0Ierr^"_$zn,%mmmsqlf=0 s $ze=""
 s %mmmsqld(2)=$P(%data(1),$C(1))
 s:%mmmsqld(2)="" %mmmsqld(2)=$e(%data(1),2,99999)
 s SQLCODE=100
   ;  init
 ; asl MOD# 2
 s %mmmsqld(1)=$g(%mmmsqld(2))
 i %mmmsqld(1)="" g %0IBdun
 s %mmmsqld(4)=""
%0IBk1 s %mmmsqld(4)=$o(^TEPI(%mmmsqld(1),4,%mmmsqld(4)))
 i %mmmsqld(4)="" g %0IBdun
 s %mmmsqld(3)=(%mmmsqld(1))_"||"_(%mmmsqld(4))
 d delete^mt491(%mmmsqld(3),"1")
 q:SQLCODE<0
 s:SQLCODE=0 %mmmsqlf=%mmmsqlf+1
 g %0IBk1
%0IBdun 
%0IAdun 
 q
%0Ierr ; Non Cursor-Based Error Trap Module...
 s $zt=$g(%mmmsqlE),SQLCODE=-20603,%msg=$ze s $ze="" g %0IAdun
%0Jo n %mmmsqlc,%mmmsqld,%mmmsqle,%mmmsqlE,%mmmsqlf,%mmmsqll,%mmmsqlL,%mmmsqlm,%mmmsqln,%mmmsqlp,%mmmsqlr,%mmmsqlR,%mmmsqls,%mmmsqlt,%val  ;  Code for SQL: 
 s %mmmsqlE=$zt,$zt="%0Jerr^"_$zn,%mmmsqlf=0 s $ze=""
 s %mmmsqld(2)=$P(%data(1),$C(1))
 s:%mmmsqld(2)="" %mmmsqld(2)=$e(%data(1),2,99999)
 s SQLCODE=100
   ;  init
 ; asl MOD# 2
 s %mmmsqld(1)=$g(%mmmsqld(2))
 i %mmmsqld(1)="" g %0JBdun
 s %mmmsqld(4)=""
%0JBk1 s %mmmsqld(4)=$o(^TEPI(%mmmsqld(1),1,%mmmsqld(4)))
 i %mmmsqld(4)="" g %0JBdun
 s %mmmsqld(5)=""
%0JBk2 s %mmmsqld(5)=$o(^TEPI(%mmmsqld(1),1,%mmmsqld(4),%mmmsqld(5)))
 i %mmmsqld(5)="" g %0JBk1
 s %mmmsqld(3)=(%mmmsqld(1))_"||"_(%mmmsqld(4))_"||"_(%mmmsqld(5))
 d delete^mt461(%mmmsqld(3),"1")
 q:SQLCODE<0
 s:SQLCODE=0 %mmmsqlf=%mmmsqlf+1
 g %0JBk2
%0JBdun 
%0JAdun 
 q
%0Jerr ; Non Cursor-Based Error Trap Module...
 s $zt=$g(%mmmsqlE),SQLCODE=-20603,%msg=$ze s $ze="" g %0JAdun
%0Ko n %mmmsqlc,%mmmsqld,%mmmsqle,%mmmsqlE,%mmmsqlf,%mmmsqll,%mmmsqlL,%mmmsqlm,%mmmsqln,%mmmsqlp,%mmmsqlr,%mmmsqlR,%mmmsqls,%mmmsqlt,%val  ;  Code for SQL: 
 s %mmmsqlE=$zt,$zt="%0Kerr^"_$zn,%mmmsqlf=0 s $ze=""
 s %mmmsqld(2)=$P(%data(1),$C(1))
 s:%mmmsqld(2)="" %mmmsqld(2)=$e(%data(1),2,99999)
 s SQLCODE=100
   ;  init
 ; asl MOD# 2
 s %mmmsqld(1)=$g(%mmmsqld(2))
 i %mmmsqld(1)="" g %0KBdun
 s %mmmsqld(4)=""
%0KBk1 s %mmmsqld(4)=$o(^TEPI(%mmmsqld(1),"VOICE",%mmmsqld(4)))
 i %mmmsqld(4)="" g %0KBdun
 i %mmmsqld(4)'=+%mmmsqld(4) g %0KBdun
 s %mmmsqld(3)=(%mmmsqld(1))_"||"_(%mmmsqld(4))
 d delete^mt2701(%mmmsqld(3),"1")
 q:SQLCODE<0
 s:SQLCODE=0 %mmmsqlf=%mmmsqlf+1
 g %0KBk1
%0KBdun 
%0KAdun 
 q
%0Kerr ; Non Cursor-Based Error Trap Module...
 s $zt=$g(%mmmsqlE),SQLCODE=-20603,%msg=$ze s $ze="" g %0KAdun
%0Lo n %mmmsqlc,%mmmsqld,%mmmsqle,%mmmsqlE,%mmmsqlf,%mmmsqll,%mmmsqlL,%mmmsqlm,%mmmsqln,%mmmsqlp,%mmmsqlr,%mmmsqlR,%mmmsqls,%mmmsqlt,%val  ;  Code for SQL: 
 s %mmmsqlE=$zt,$zt="%0Lerr^"_$zn,%mmmsqlf=0 s $ze=""
 s %mmmsqld(2)=$P(%data(1),$C(1))
 s:%mmmsqld(2)="" %mmmsqld(2)=$e(%data(1),2,99999)
 s SQLCODE=100
   ;  init
 ; asl MOD# 2
 s %mmmsqld(1)=$g(%mmmsqld(2))
 i %mmmsqld(1)="" g %0LBdun
 s %mmmsqld(4)=""
%0LBk1 s %mmmsqld(4)=$o(^TEPI(%mmmsqld(1),"HISTORY",%mmmsqld(4)))
 i %mmmsqld(4)="" g %0LBdun
 i %mmmsqld(4)'=+%mmmsqld(4) g %0LBdun
 s %mmmsqld(3)=(%mmmsqld(1))_"||"_(%mmmsqld(4))
 d delete^mt3931(%mmmsqld(3),"1")
 q:SQLCODE<0
 s:SQLCODE=0 %mmmsqlf=%mmmsqlf+1
 g %0LBk1
%0LBdun 
%0LAdun 
 q
%0Lerr ; Non Cursor-Based Error Trap Module...
 s $zt=$g(%mmmsqlE),SQLCODE=-20603,%msg=$ze s $ze="" g %0LAdun
%0Mo n %mmmsqlc,%mmmsqld,%mmmsqle,%mmmsqlE,%mmmsqlf,%mmmsqll,%mmmsqlL,%mmmsqlm,%mmmsqln,%mmmsqlp,%mmmsqlr,%mmmsqlR,%mmmsqls,%mmmsqlt,%val  ;  Code for SQL: 
 s %mmmsqlE=$zt,$zt="%0Merr^"_$zn,%mmmsqlf=0 s $ze=""
 s %mmmsqld(2)=$P(%data(1),$C(1))
 s:%mmmsqld(2)="" %mmmsqld(2)=$e(%data(1),2,99999)
 s SQLCODE=100
   ;  init
 ; asl MOD# 2
 s %mmmsqld(1)=$g(%mmmsqld(2))
 i %mmmsqld(1)="" g %0MBdun
 s %mmmsqld(4)=""
%0MBk1 s %mmmsqld(4)=$o(^TEPI(%mmmsqld(1),"DB",%mmmsqld(4)))
 i %mmmsqld(4)="" g %0MBdun
 i %mmmsqld(4)'=+%mmmsqld(4) g %0MBdun
 s %mmmsqld(3)=(%mmmsqld(1))_"||"_(%mmmsqld(4))
 d delete^mt5281(%mmmsqld(3),"1")
 q:SQLCODE<0
 s:SQLCODE=0 %mmmsqlf=%mmmsqlf+1
 g %0MBk1
%0MBdun 
%0MAdun 
 q
%0Merr ; Non Cursor-Based Error Trap Module...
 s $zt=$g(%mmmsqlE),SQLCODE=-20603,%msg=$ze s $ze="" g %0MAdun
%0No n %mmmsqlc,%mmmsqld,%mmmsqle,%mmmsqlE,%mmmsqlf,%mmmsqll,%mmmsqlL,%mmmsqlm,%mmmsqln,%mmmsqlp,%mmmsqlr,%mmmsqlR,%mmmsqls,%mmmsqlt,%val  ;  Code for SQL: 
 s %mmmsqlE=$zt,$zt="%0Nerr^"_$zn,%mmmsqlf=0 s $ze=""
 s %mmmsqld(2)=$P(%data(1),$C(1))
 s:%mmmsqld(2)="" %mmmsqld(2)=$e(%data(1),2,99999)
 s SQLCODE=100
   ;  init
 ; asl MOD# 2
 s %mmmsqld(1)=$g(%mmmsqld(2))
 i %mmmsqld(1)="" g %0NBdun
 s %mmmsqld(4)=""
%0NBk1 s %mmmsqld(4)=$o(^TEPI(%mmmsqld(1),9,%mmmsqld(4)))
 i %mmmsqld(4)="" g %0NBdun
 s %mmmsqld(3)=(%mmmsqld(1))_"||"_(%mmmsqld(4))
 d delete^mt5511(%mmmsqld(3),"1")
 q:SQLCODE<0
 s:SQLCODE=0 %mmmsqlf=%mmmsqlf+1
 g %0NBk1
%0NBdun 
%0NAdun 
 q
%0Nerr ; Non Cursor-Based Error Trap Module...
 s $zt=$g(%mmmsqlE),SQLCODE=-20603,%msg=$ze s $ze="" g %0NAdun
%0Oo n %mmmsqlc,%mmmsqld,%mmmsqle,%mmmsqlE,%mmmsqlf,%mmmsqll,%mmmsqlL,%mmmsqlm,%mmmsqln,%mmmsqlp,%mmmsqlr,%mmmsqlR,%mmmsqls,%mmmsqlt,%val  ;  Code for SQL: 
 s %mmmsqlE=$zt,$zt="%0Oerr^"_$zn,%mmmsqlf=0 s $ze=""
 s %mmmsqld(2)=$P(%data(1),$C(1))
 s:%mmmsqld(2)="" %mmmsqld(2)=$e(%data(1),2,99999)
 s SQLCODE=100
   ;  init
 ; asl MOD# 2
 s %mmmsqld(1)=$g(%mmmsqld(2))
 i %mmmsqld(1)="" g %0OBdun
 s %mmmsqld(4)=""
%0OBk1 s %mmmsqld(4)=$o(^TEPI(%mmmsqld(1),"VA",%mmmsqld(4)))
 i %mmmsqld(4)="" g %0OBdun
 s %mmmsqld(3)=(%mmmsqld(1))_"||"_(%mmmsqld(4))
 d delete^mt5881(%mmmsqld(3),"1")
 q:SQLCODE<0
 s:SQLCODE=0 %mmmsqlf=%mmmsqlf+1
 g %0OBk1
%0OBdun 
%0OAdun 
 q
%0Oerr ; Non Cursor-Based Error Trap Module...
 s $zt=$g(%mmmsqlE),SQLCODE=-20603,%msg=$ze s $ze="" g %0OAdun
%0Po n %mmmsqlc,%mmmsqld,%mmmsqle,%mmmsqlE,%mmmsqlf,%mmmsqll,%mmmsqlL,%mmmsqlm,%mmmsqln,%mmmsqlp,%mmmsqlr,%mmmsqlR,%mmmsqls,%mmmsqlt,%val  ;  Code for SQL: 
 s %mmmsqlE=$zt,$zt="%0Perr^"_$zn,%mmmsqlf=0 s $ze=""
 s %mmmsqld(2)=$P(%data(1),$C(1))
 s:%mmmsqld(2)="" %mmmsqld(2)=$e(%data(1),2,99999)
 s SQLCODE=100
   ;  init
 ; asl MOD# 2
 s %mmmsqld(1)=$g(%mmmsqld(2))
 i %mmmsqld(1)="" g %0PBdun
 s %mmmsqld(4)=""
%0PBk1 s %mmmsqld(4)=$o(^TEPI(%mmmsqld(1),"AT",%mmmsqld(4)))
 i %mmmsqld(4)="" g %0PBdun
 s %mmmsqld(3)=(%mmmsqld(1))_"||"_(%mmmsqld(4))
 d delete^mt6101(%mmmsqld(3),"1")
 q:SQLCODE<0
 s:SQLCODE=0 %mmmsqlf=%mmmsqlf+1
 g %0PBk1
%0PBdun 
%0PAdun 
 q
%0Perr ; Non Cursor-Based Error Trap Module...
 s $zt=$g(%mmmsqlE),SQLCODE=-20603,%msg=$ze s $ze="" g %0PAdun
%0Qo n %mmmsqlc,%mmmsqld,%mmmsqle,%mmmsqlE,%mmmsqlf,%mmmsqll,%mmmsqlL,%mmmsqlm,%mmmsqln,%mmmsqlp,%mmmsqlr,%mmmsqlR,%mmmsqls,%mmmsqlt,%val  ;  Code for SQL: 
 s %mmmsqlE=$zt,$zt="%0Qerr^"_$zn,%mmmsqlf=0 s $ze=""
 s %mmmsqld(2)=$P(%data(1),$C(1))
 s:%mmmsqld(2)="" %mmmsqld(2)=$e(%data(1),2,99999)
 s SQLCODE=100
   ;  init
 ; asl MOD# 2
 s %mmmsqld(1)=$g(%mmmsqld(2))
 i %mmmsqld(1)="" g %0QBdun
 s %mmmsqld(4)=""
%0QBk1 s %mmmsqld(4)=$o(^TEPI(%mmmsqld(1),"AR",%mmmsqld(4)))
 i %mmmsqld(4)="" g %0QBdun
 i %mmmsqld(4)'=+%mmmsqld(4) g %0QBdun
 s %mmmsqld(3)=(%mmmsqld(1))_"||"_(%mmmsqld(4))
 d delete^mt6421(%mmmsqld(3),"1")
 q:SQLCODE<0
 s:SQLCODE=0 %mmmsqlf=%mmmsqlf+1
 g %0QBk1
%0QBdun 
%0QAdun 
 q
%0Qerr ; Non Cursor-Based Error Trap Module...
 s $zt=$g(%mmmsqlE),SQLCODE=-20603,%msg=$ze s $ze="" g %0QAdun
%0Ro n %mmmsqlc,%mmmsqld,%mmmsqle,%mmmsqlE,%mmmsqlf,%mmmsqll,%mmmsqlL,%mmmsqlm,%mmmsqln,%mmmsqlp,%mmmsqlr,%mmmsqlR,%mmmsqls,%mmmsqlt,%val  ;  Code for SQL: 
 s %mmmsqlE=$zt,$zt="%0Rerr^"_$zn,%mmmsqlf=0 s $ze=""
 s %mmmsqld(2)=$P(%data(1),$C(1))
 s:%mmmsqld(2)="" %mmmsqld(2)=$e(%data(1),2,99999)
 s SQLCODE=100
   ;  init
 ; asl MOD# 2
 s %mmmsqld(1)=$g(%mmmsqld(2))
 i %mmmsqld(1)="" g %0RBdun
 s %mmmsqld(4)=""
%0RBk1 s %mmmsqld(4)=$o(^TEPI(%mmmsqld(1),"AB",%mmmsqld(4)))
 i %mmmsqld(4)="" g %0RBdun
 i %mmmsqld(4)'=+%mmmsqld(4) g %0RBdun
 s %mmmsqld(3)=(%mmmsqld(1))_"||"_(%mmmsqld(4))
 d delete^mt6511(%mmmsqld(3),"1")
 q:SQLCODE<0
 s:SQLCODE=0 %mmmsqlf=%mmmsqlf+1
 g %0RBk1
%0RBdun 
%0RAdun 
 q
%0Rerr ; Non Cursor-Based Error Trap Module...
 s $zt=$g(%mmmsqlE),SQLCODE=-20603,%msg=$ze s $ze="" g %0RAdun
trig0E n %ROWID,%didit,SQLCODE s %didit="" k %skip
  d %0Fo^mt422  s %didit=1
  d %0Go^mt422  s %didit=1
  d %0Ho^mt422  s %didit=1
  d %0Io^mt422  s %didit=1
  d %0Jo^mt422  s %didit=1
  d %0Ko^mt422  s %didit=1
  d %0Lo^mt422  s %didit=1
  d %0Mo^mt422  s %didit=1
  d %0No^mt422  s %didit=1
  d %0Oo^mt422  s %didit=1
  d %0Po^mt422  s %didit=1
  d %0Qo^mt422  s %didit=1
  d %0Ro^mt422  s %didit=1
trgdoneE q  ;  trigger done
 g ^mt423
UPPER(val) d:'$d(%trans) %trans^%qarztrm q $tr(val,%trans(3),%trans(4))
ALPHAUP(val,remove) d:'$d(%trans) %trans^%qarztrm q:'$d(remove) $tr(val,%trans(1),%trans(2)) q $tr(val,$tr(%trans(1),remove),%trans(2))
]]></Routine>
</Export>
